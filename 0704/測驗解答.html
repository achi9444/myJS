<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <p>請輸入成績N次, 直到輸入-1時結束</p>
    <p>並統計出如下</p>
    <ul>
        <li>及格人數</li>
        <li>不及格人數</li>
        <li>全班總分</li>
        <li>全班平均</li>
    </ul>
    <hr>
    <p id="result">結果</p>

    <script>
        var pass = 0;     // 及格
        var fail = 0;     // 不及格
        var tot = 0;      // 總分
        var avg = 0.0;    // 總平均

        while (1) {
            var score = prompt("請輸入分數");

            if (score == null) {        // 檢查是否取消
                pass = 0;
                fail = 0;
                tot = 0;
                avg = 0;
                alert("已取消");
                break;
            }
            if (score.trim() == "") {   // 檢查是否空白，去除資料前後的空白=>trim()
                alert("不可空白，請重新輸入");
                continue;
            }
            if (score == -1) {       // 有資料，檢查是否結束
                alert("成績輸入結束");
                break;
            }
            score = Number(score)    // 字串轉數字
            if (isNaN(score)) {      // 檢查是否為數字
                alert("非數值，請重新輸入");
                continue;
            } else if (score > 100 || score < 0) {
                alert("非有效範圍，請重新輸入");
                continue;
            }
            if (score >= 60) {          // 檢查是否及格
                pass++;                 // 及格人數+1
            } else {
                fail++;                 // 不及格人數+1
            }
            tot = tot + score;          // 總分
        }
        if (pass + fail > 0) {          // 分母若為0就不計算
            avg = tot / (pass + fail);      //平均
        }
        //顯示結果
        var result = document.getElementById("result");
        result.innerHTML = `
            　及格人數 ${pass}<br>
            不及格人數 ${fail}<br>
            　　總　分 ${tot}<br>
            　平均分數 ${avg.toFixed(2)}
        `;
    </script>


</body>

</html>