<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h2>猜數字</h2>
    <p id="result"></p>
    <script>
        let rd=Math.floor(Math.random()*100)+1;     //取得亂數並去除小數點
        // let rd = 88;
        let min = 1;
        let max = 100;
        let count = 0;
        let strMsg = "";    //存放每次執行後的訊息
        let str1 = "";    //存放當前執行後的訊息
        while (1) {
            count++;
            let keyNumber = prompt(`請輸入任意數：${min}-${max}`);
            if (keyNumber == null) {
                alert("已放棄，即將結束");
                break;
            }
            if (keyNumber.trim() == "") {
                alert("非數字，請重新輸入");
                continue;
            }

            //有資料時的處理
            keyNumber = parseInt(keyNumber);  //轉數字，會去除小數點
            // keyNumber=Number(keyNumber);    //轉數字，保留完整數字
            if (isNaN(keyNumber)) {
                alert("非數字，請重新輸入");
                continue;
            }
            //是否為有效範圍
            if (keyNumber <= 0 || keyNumber > 100) {
                alert(`非有效範圍，1-100`)
                continue;
            }
            if (keyNumber == rd) {
                str1 = `第${count}次，恭喜您猜對了！`;
                alert(str1);
                strMsg += str1 + "<br>"
                break;
            }
            if (keyNumber > rd) {
                max = keyNumber;
                str1 = `第${count}次, 太大了，提示「${min}-${max}」`;
                alert(str1);
                strMsg += str1 + "<br>";

                // continue;       //最後不需要continue，會自己回到迴圈最開始的地方運作
            } else {
                min = keyNumber;
                str1 = `第${count}次, 太小了，提示「${min}-${max}」`;
                alert(str1);
                strMsg += str1 + "<br>";

            }
        }
        // document.write(strMsg);
        // let result = document.getElementById("result");
        // result.innerHTML = strMsg;
        document.getElementById("result").innerHTML = strMsg;
    </script>
</body>

</html>